import React from 'react';
import { NovaIcon } from './Icons';
import { User } from '../types';

interface ChatWelcomeScreenProps {
    currentUser: User | null;
}

const WatermarkIcon: React.FC<{ className?: string }> = ({ className }) => (
    <svg 
        version="1.0" 
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 477.000000 476.000000"
        preserveAspectRatio="xMidYMid meet"
        className={className}
    >
        <g 
            transform="translate(0.000000,476.000000) scale(0.100000,-0.100000)"
            fill="currentColor" 
            stroke="none"
        >
            <g transform="translate(50, 210)">
                <path d="M2066 3943 c-3 -16 -10 -57 -16 -93 -49 -286 -150 -530 -293 -702 -25 -32 -34 -48 -24 -48 8 0 55 -20 103 -44 165 -83 324 -234 456 -430 33 -50 62 -93 64 -95 2 -2 4 120 4 271 l0 276 -27 7 c-120 29 -175 165 -109 265 25 38 88 80 121 80 13 0 15 20 15 135 0 152 -15 211 -73 284 -42 53 -113 105 -133 97 -8 -3 -28 1 -44 9 -38 20 -38 20 -44 -12z m54 -175 c-48 -223 -152 -478 -235 -575 l-35 -42 49 -33 c80 -53 178 -138 223 -192 l42 -51 -50 46 c-73 67 -170 137 -239 171 -33 17 -61 32 -63 33 -2 1 17 31 41 66 99 142 185 361 232 587 14 64 25 119 25 122 0 2 7 -3 16 -12 15 -15 15 -24 -6 -120z"/>
                <path d="M2630 3955 c-14 -8 -33 -12 -43 -9 -22 7 -91 -43 -134 -97 -58 -73 -73 -132 -73 -283 l0 -133 28 -6 c75 -15 132 -88 132 -170 0 -85 -52 -152 -132 -172 l-28 -7 0 -276 c0 -151 2 -273 4 -271 2 2 31 45 64 95 132 196 291 347 456 430 48 24 95 44 103 44 10 0 1 -16 -24 48 -143 172 -244 416 -293 702 -23 135 -19 129 -60 105z m25 -179 c46 -224 133 -443 232 -585 24 -35 43 -65 41 -66 -2 -1 -30 -16 -63 -33 -69 -34 -166 -104 -239 -171 l-50 -46 42 51 c45 54 143 139 223 192 l49 33 -35 42 c-83 97 -187 352 -235 575 -18 83 -20 105 -10 118 7 8 15 13 17 10 2 -2 15 -56 28 -120z"/>
                <path d="M4203 1629 c-196 -33 -311 -153 -321 -336 -11 -209 99 -357 299 -399 141 -30 333 7 366 69 8 16 12 31 9 34 -2 3 -31 -5 -63 -18 -83 -32 -218 -33 -285 -1 -53 26 -106 81 -140 144 -20 38 -23 57 -23 158 0 99 3 121 21 155 52 97 124 138 239 139 125 0 195 -45 195 -126 0 -30 4 -38 19 -38 15 0 19 11 25 68 3 37 9 77 12 88 5 19 -1 24 -43 38 -102 33 -209 42 -310 25z"/>
                <path d="M1063 1623 c-165 -3 -173 -4 -173 -23 0 -15 7 -20 28 -20 57 0 57 -1 60 -237 2 -120 -1 -256 -5 -303 l-8 -85 -37 -3 c-33 -3 -38 -7 -38 -28 l0 -24 160 0 160 0 0 24 c0 21 -5 25 -37 28 -38 3 -38 3 -45 58 -8 74 -10 388 -2 483 l7 77 49 0 c98 0 148 -46 148 -135 0 -83 -51 -145 -120 -145 -20 0 -39 -3 -42 -6 -4 -3 13 -33 36 -67 24 -34 78 -119 120 -189 l78 -128 94 0 c83 0 94 2 94 18 0 9 -13 24 -28 33 -16 9 -68 74 -119 150 -126 187 -121 174 -76 198 106 54 147 177 88 267 -34 53 -100 62 -392 57z"/>
                <path d="M2528 1623 c-180 -3 -188 -4 -188 -23 0 -15 7 -20 28 -20 58 0 57 7 60 -319 l3 -299 -31 -22 c-16 -12 -30 -26 -30 -31 0 -16 386 -11 459 6 122 29 221 106 269 209 72 152 41 351 -67 433 -79 61 -163 72 -503 66z m319 -82 c92 -46 141 -157 130 -293 -8 -97 -30 -157 -78 -212 -51 -58 -104 -76 -226 -76 l-93 0 0 299 c0 230 3 301 13 305 6 3 57 4 113 2 77 -3 110 -9 141 -25z"/>
                <path d="M180 1588 c0 -18 3 -57 6 -85 5 -41 11 -53 24 -53 13 0 19 11 23 45 2 26 8 49 12 53 3 4 49 9 101 10 l94 4 -1 -279 c-1 -153 -4 -289 -8 -303 -5 -19 -16 -27 -49 -34 -30 -7 -42 -15 -42 -28 0 -17 13 -18 170 -18 157 0 170 1 170 18 0 13 -12 21 -42 28 l-43 9 -3 303 -2 302 74 0 c41 0 86 -4 100 -10 23 -8 26 -15 26 -55 0 -41 2 -45 25 -45 25 0 25 1 25 85 l0 85 -330 0 -330 0 0 -32z"/>
                <path d="M1640 1600 c0 -15 7 -20 28 -20 54 0 54 -1 59 -231 2 -118 1 -254 -4 -304 l-8 -90 -37 -3 c-33 -3 -38 -7 -38 -28 l0 -24 160 0 160 0 0 24 c0 21 -5 25 -37 28 l-38 3 -8 65 c-5 36 -6 173 -3 304 5 257 5 256 59 256 20 0 27 5 27 20 0 19 -7 20 -160 20 -153 0 -160 -1 -160 -20z"/>
                <path d="M3120 1600 c0 -15 7 -20 28 -20 57 0 57 3 62 -282 4 -223 8 -268 22 -294 42 -77 134 -118 268 -118 108 -1 169 17 224 65 72 64 78 89 85 364 3 132 10 246 14 253 5 6 21 12 38 12 22 0 29 5 29 20 0 19 -7 20 -120 20 -113 0 -120 -1 -120 -20 0 -15 7 -20 28 -20 63 0 63 -1 60 -267 -3 -226 -4 -243 -24 -269 -40 -54 -68 -67 -151 -71 -67 -4 -84 -1 -122 19 -77 40 -81 57 -81 321 0 138 4 236 10 248 8 13 21 19 45 19 28 0 35 4 35 20 0 19 -7 20 -165 20 -158 0 -165 -1 -165 -20z"/>
                <path d="M1124 480 c-57 -23 -73 -116 -30 -166 40 -48 124 -32 139 27 3 11 0 19 -8 19 -7 0 -15 -9 -18 -20 -3 -11 -17 -25 -31 -31 -23 -11 -31 -10 -54 8 -21 16 -28 30 -30 65 -3 40 1 49 24 67 35 27 49 27 80 -4 28 -29 34 -30 34 -12 0 34 -67 64 -106 47z"/>
                <path d="M2165 481 c-38 -16 -58 -49 -58 -96 0 -77 59 -119 127 -91 71 30 72 152 1 182 -39 16 -42 16 -70 5z m83 -39 c36 -47 17 -124 -34 -136 -44 -11 -78 20 -82 76 -3 40 1 49 25 67 30 25 69 22 91 -7z"/>
                <path d="M2970 477 c-29 -14 -38 -58 -17 -76 8 -6 34 -17 58 -24 49 -14 63 -42 33 -64 -27 -20 -52 -16 -80 14 -29 32 -43 24 -20 -12 16 -24 36 -30 86 -26 37 4 51 20 48 55 -3 27 -9 33 -53 48 -60 20 -79 43 -51 64 27 19 42 18 67 -7 27 -27 46 -20 22 8 -23 28 -61 37 -93 20z"/>
                <path d="M3560 477 c-17 -9 -26 -22 -28 -45 -2 -17 -2 -32 0 -32 2 0 28 -9 58 -19 59 -19 76 -45 44 -68 -27 -20 -52 -16 -81 13 -14 14 -28 22 -31 19 -10 -10 13 -39 42 -53 37 -19 94 0 102 34 10 38 -2 52 -52 67 -59 17 -78 42 -50 63 27 19 42 18 66 -6 24 -24 30 -25 30 -6 0 32 -62 53 -100 33z"/>
                <path d="M170 385 l0 -95 70 0 c40 0 70 4 70 10 0 6 -25 10 -55 10 l-55 0 0 35 0 35 51 0 c31 0 48 4 44 10 -3 6 -26 10 -51 10 -42 0 -44 1 -44 30 0 29 1 30 50 30 28 0 50 5 50 10 0 6 -28 10 -65 10 l-65 0 0 -95z"/>
                <path d="M460 385 l0 -95 49 0 c68 0 92 22 98 87 5 45 2 55 -20 77 -21 21 -36 26 -77 26 l-50 0 0 -95z m114 53 c40 -56 6 -128 -59 -128 l-35 0 0 75 0 75 39 0 c30 0 44 -6 55 -22z"/>
                <path d="M760 407 c0 -80 14 -111 54 -121 27 -7 76 8 88 27 12 18 10 167 -2 167 -6 0 -10 -31 -10 -74 0 -79 -13 -106 -51 -106 -40 0 -59 35 -59 110 0 40 -4 70 -10 70 -6 0 -10 -31 -10 -73z"/>
                <path d="M1433 463 c-3 -10 -19 -51 -35 -91 -31 -81 -32 -82 -19 -82 5 0 14 14 21 30 11 26 17 30 52 30 35 0 41 -4 51 -30 6 -16 17 -30 24 -30 8 0 4 21 -14 68 -14 37 -30 79 -35 95 -11 31 -35 36 -45 10z m24 -91 c-16 -2 -31 -1 -33 1 -3 2 3 24 12 47 l17 43 16 -44 17 -44 -29 -3z"/>
                <path d="M1630 470 c0 -5 16 -10 35 -10 l35 0 0 -85 c0 -50 4 -85 10 -85 6 0 10 35 10 85 l0 85 35 0 c19 0 35 5 35 10 0 6 -33 10 -80 10 -47 0 -80 -4 -80 -10z"/>
                <path d="M1930 385 c0 -57 4 -95 10 -95 6 0 10 38 10 95 0 57 -4 95 -10 95 -6 0 -10 -38 -10 -95z"/>
                <path d="M2440 385 c0 -57 4 -95 10 -95 6 0 10 33 10 78 l0 77 51 -77 c29 -43 58 -78 65 -78 11 0 14 21 14 95 0 114 -18 128 -22 18 l-3 -78 -50 77 c-27 42 -56 77 -62 77 -10 1 -13 -24 -13 -94z"/>
                <path d="M3226 468 c4 -7 20 -32 36 -55 19 -29 28 -54 28 -82 0 -23 5 -41 10 -41 6 0 10 17 10 38 0 26 10 53 35 89 37 55 40 63 26 63 -5 0 -22 -21 -38 -46 l-30 -46 -29 46 c-16 25 -35 46 -42 46 -8 0 -10 -5 -6 -12z"/>
                <path d="M3800 470 c0 -5 16 -10 35 -10 l35 0 0 -85 c0 -50 4 -85 10 -85 6 0 10 35 10 85 l0 85 30 0 c17 0 30 5 30 10 0 6 -32 10 -75 10 -43 0 -75 -4 -75 -10z"/>
                <path d="M4100 385 l0 -95 65 0 c37 0 65 4 65 10 0 6 -25 10 -55 10 l-55 0 0 35 0 35 50 0 c28 0 50 5 50 10 0 6 -22 10 -50 10 -49 0 -50 1 -50 30 0 30 1 30 55 30 30 0 55 5 55 10 0 6 -28 10 -65 10 l-65 0 0 -95z"/>
                <path d="M4380 386 c0 -115 18 -130 22 -18 l3 77 30 -77 c16 -43 34 -78 40 -78 6 0 21 32 34 70 14 39 28 73 33 76 4 3 8 -29 8 -70 0 -44 4 -76 10 -76 6 0 10 38 10 95 0 84 -2 95 -18 95 -13 0 -25 -21 -46 -80 -16 -45 -30 -79 -33 -77 -2 3 -17 38 -32 78 -17 45 -35 75 -45 77 -14 3 -16 -9 -16 -92z"/>
            </g>
        </g>
    </svg>
);


const ChatWelcomeScreen: React.FC<ChatWelcomeScreenProps> = ({ currentUser }) => {
    return (
        <div className="relative flex flex-col items-center justify-center h-full text-center text-text-secondary overflow-hidden">
            <WatermarkIcon className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] max-w-none text-border/40 opacity-50 dark:opacity-20 pointer-events-none" />
            <div className="relative z-10 max-w-md mb-20">
                <NovaIcon className="w-24 h-24 text-primary mx-auto" />
                {currentUser ? (
                  <h1 className="text-3xl sm:text-4xl font-bold mt-2 text-text-primary">Chào mừng trở lại, {currentUser.username}!</h1>
                ) : (
                  <h1 className="text-3xl sm:text-4xl font-bold mt-2 text-text-primary">Chào mừng đến với NOVA</h1>
                )}
                <p className="text-lg mt-1">Trợ lý học tập AI của bạn.</p>
                <p className="mt-1 max-w-lg text-text-secondary">
                    Chọn một chế độ ở trên cùng để bắt đầu. Bạn có thể giải bài tập với hướng dẫn chi tiết hoặc ôn lại các khái niệm quan trọng.
                </p>
            </div>
        </div>
    );
}

export default ChatWelcomeScreen;